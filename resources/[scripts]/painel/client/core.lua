-----------------------------------------------------------------------------------------------------------------------------------------
-- VRP
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp","lib/Tunnel")
local Proxy = module("vrp","lib/Proxy")
vRP = Proxy.getInterface("vRP")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONNECTION
-----------------------------------------------------------------------------------------------------------------------------------------
Expert = {}
Tunnel.bindInterface("painel",Expert)
vSERVER = Tunnel.getInterface("painel")
-----------------------------------------------------------------------------------------------------------------------------------------
-- PAINEL:OPENED
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNetEvent("painel:Opened")
AddEventHandler("painel:Opened", function(Group)
	vSERVER.Department(Group)
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- OPEN
-----------------------------------------------------------------------------------------------------------------------------------------
function Expert.Open(Data)
	SetNuiFocus(true,true)
	SetCursorLocation(0.5,0.5)
	TriggerEvent("dynamic:Close")
	TriggerEvent("hud:Active",false)
	SendNUIMessage({ Action = "Open", Payload = Data })

	vRP.CreateObjects("amb@code_human_in_bus_passenger_idles@female@tablet@idle_a","idle_a","prop_cs_tablet",49,28422,-0.05,0.0,0.0,0.0,0.0, 0.0)
end
-----------------------------------------------------------------------------------------------------------------------------------------
-- CLOSE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Close",function(Data,Callback)
	TriggerEvent("hud:Active",true)
	SetNuiFocus(false,false)
	vRP.Destroy()

	Callback("Ok")
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- INVITE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Invite",function(Data,Callback)
	Callback(vSERVER.Invite(Data["Passport"]))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- PROMOTE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Promote",function(Data,Callback)
	Callback(vSERVER.Hierarchy(Data["Passport"],"Promote"))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- DEMOTE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Demote",function(Data,Callback)
	Callback(vSERVER.Hierarchy(Data["Passport"],"Demote"))
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- DEMOTE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNUICallback("Dismiss",function(Data,Callback)
	Callback(vSERVER.Dismiss(Data["Passport"]))
end)